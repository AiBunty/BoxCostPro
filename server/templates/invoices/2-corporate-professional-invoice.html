<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Invoice - {{invoice_no}}</title>
  <style>
    /* Corporate Professional Invoice - Print-safe A4 */
    @page {
      size: A4;
      margin: 10mm;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
      font-size: 10px;
      line-height: 1.5;
      color: #2d3748;
      background: white;
    }
    
    .invoice-container {
      max-width: 210mm;
      margin: 0 auto;
      background: white;
    }
    
    /* Corporate Header with Dark Theme */
    .header {
      background: linear-gradient(135deg, #1a365d 0%, #2d3748 100%);
      color: white;
      padding: 25px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .company-brand {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .company-logo {
      width: 70px;
      height: 70px;
      background: white;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    
    .company-logo img {
      max-width: 60px;
      max-height: 60px;
    }
    
    .company-details h1 {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 5px;
    }
    
    .company-details p {
      font-size: 11px;
      opacity: 0.9;
    }
    
    .invoice-badge {
      text-align: right;
    }
    
    .invoice-type {
      font-size: 32px;
      font-weight: 800;
      letter-spacing: 2px;
    }
    
    .invoice-number {
      background: #ecc94b;
      color: #1a365d;
      padding: 5px 15px;
      border-radius: 20px;
      font-weight: 700;
      font-size: 12px;
      display: inline-block;
      margin-top: 5px;
    }
    
    /* Content Area */
    .content {
      padding: 30px;
    }
    
    /* Info Grid */
    .info-grid {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 20px;
      margin-bottom: 25px;
    }
    
    .info-card {
      background: #f7fafc;
      border-radius: 8px;
      padding: 15px;
      border-left: 4px solid #1a365d;
    }
    
    .info-card-header {
      font-size: 9px;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: #718096;
      margin-bottom: 8px;
    }
    
    .info-card-content {
      font-size: 11px;
    }
    
    .info-card-content strong {
      display: block;
      font-size: 14px;
      color: #1a365d;
      margin-bottom: 5px;
    }
    
    /* Party Section */
    .party-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 25px;
      margin-bottom: 25px;
    }
    
    .party-card {
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      overflow: hidden;
    }
    
    .party-card-header {
      background: #edf2f7;
      padding: 10px 15px;
      font-weight: 700;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: #1a365d;
      border-bottom: 2px solid #e2e8f0;
    }
    
    .party-card-body {
      padding: 15px;
    }
    
    .party-name {
      font-size: 15px;
      font-weight: 700;
      color: #1a365d;
      margin-bottom: 8px;
    }
    
    .party-info {
      font-size: 10px;
      color: #4a5568;
      margin-bottom: 4px;
    }
    
    .party-gstin {
      display: inline-block;
      background: #1a365d;
      color: white;
      padding: 4px 10px;
      border-radius: 4px;
      font-size: 10px;
      font-weight: 600;
      margin-top: 8px;
    }
    
    /* Items Table */
    .items-table-wrapper {
      margin-bottom: 25px;
      border-radius: 10px;
      overflow: hidden;
      border: 1px solid #e2e8f0;
    }
    
    .items-table {
      width: 100%;
      border-collapse: collapse;
    }
    
    .items-table thead {
      background: linear-gradient(135deg, #1a365d 0%, #2d3748 100%);
      color: white;
    }
    
    .items-table th {
      padding: 12px 10px;
      text-align: left;
      font-weight: 600;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .items-table td {
      padding: 12px 10px;
      border-bottom: 1px solid #e2e8f0;
      font-size: 10px;
    }
    
    .items-table tbody tr:nth-child(even) {
      background: #f7fafc;
    }
    
    .items-table tbody tr:hover {
      background: #edf2f7;
    }
    
    .item-primary {
      font-weight: 600;
      color: #1a365d;
    }
    
    .item-secondary {
      font-size: 9px;
      color: #718096;
    }
    
    .text-right {
      text-align: right;
    }
    
    .text-center {
      text-align: center;
    }
    
    /* Summary Section */
    .summary-section {
      display: grid;
      grid-template-columns: 1fr 300px;
      gap: 30px;
      margin-bottom: 25px;
    }
    
    .amount-words-box {
      background: linear-gradient(135deg, #f0fff4 0%, #c6f6d5 100%);
      border-radius: 10px;
      padding: 20px;
      border-left: 5px solid #38a169;
    }
    
    .amount-words-label {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: #276749;
      margin-bottom: 8px;
    }
    
    .amount-words-text {
      font-size: 13px;
      font-weight: 600;
      color: #22543d;
      font-style: italic;
    }
    
    .totals-box {
      background: #f7fafc;
      border-radius: 10px;
      overflow: hidden;
    }
    
    .totals-row {
      display: flex;
      justify-content: space-between;
      padding: 10px 15px;
      border-bottom: 1px solid #e2e8f0;
    }
    
    .totals-row:last-child {
      border-bottom: none;
    }
    
    .totals-label {
      color: #4a5568;
    }
    
    .totals-value {
      font-weight: 600;
      color: #1a365d;
    }
    
    .totals-grand {
      background: linear-gradient(135deg, #1a365d 0%, #2d3748 100%);
      color: white;
    }
    
    .totals-grand .totals-label,
    .totals-grand .totals-value {
      color: white;
      font-size: 14px;
      font-weight: 700;
    }
    
    /* Bank Section */
    .bank-section {
      background: #fffaf0;
      border: 2px solid #ed8936;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 25px;
    }
    
    .bank-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
    }
    
    .bank-icon {
      width: 30px;
      height: 30px;
      background: #ed8936;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    
    .bank-title {
      font-size: 14px;
      font-weight: 700;
      color: #c05621;
    }
    
    .bank-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
    }
    
    .bank-item {
      font-size: 10px;
    }
    
    .bank-item-label {
      color: #c05621;
      font-weight: 600;
      margin-bottom: 2px;
    }
    
    .bank-item-value {
      color: #2d3748;
      font-weight: 500;
    }
    
    /* Footer Section */
    .footer-section {
      display: grid;
      grid-template-columns: 1fr 200px;
      gap: 30px;
      padding-top: 20px;
      border-top: 2px solid #e2e8f0;
    }
    
    .terms-section h4 {
      font-size: 11px;
      color: #1a365d;
      margin-bottom: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .terms-list {
      font-size: 9px;
      color: #4a5568;
      padding-left: 15px;
    }
    
    .terms-list li {
      margin-bottom: 4px;
    }
    
    .signature-section {
      text-align: center;
      padding-top: 30px;
    }
    
    .signature-line {
      border-top: 2px solid #1a365d;
      padding-top: 10px;
    }
    
    .signature-name {
      font-size: 12px;
      font-weight: 700;
      color: #1a365d;
    }
    
    .signature-designation {
      font-size: 9px;
      color: #718096;
    }
    
    /* Declaration */
    .declaration {
      background: #f7fafc;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      text-align: center;
      font-size: 9px;
      color: #718096;
      font-style: italic;
    }
    
    /* Print */
    @media print {
      body {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
      }
      
      .header, .items-table thead, .totals-grand {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
      }
    }
  </style>
</head>
<body>
  <div class="invoice-container">
    <!-- Corporate Header -->
    <div class="header">
      <div class="company-brand">
        <div class="company-logo">
          {{#if seller_logo}}
          <img src="{{seller_logo}}" alt="Logo">
          {{else}}
          <span style="font-size: 24px; font-weight: bold; color: #1a365d;">{{company_initials}}</span>
          {{/if}}
        </div>
        <div class="company-details">
          <h1>{{seller_company_name}}</h1>
          <p>{{seller_tagline}}</p>
        </div>
      </div>
      <div class="invoice-badge">
        <div class="invoice-type">INVOICE</div>
        <div class="invoice-number">#{{invoice_no}}</div>
      </div>
    </div>
    
    <!-- Content -->
    <div class="content">
      <!-- Info Grid -->
      <div class="info-grid">
        <div class="info-card">
          <div class="info-card-header">Invoice Date</div>
          <div class="info-card-content">
            <strong>{{invoice_date}}</strong>
            {{#if due_date}}Due: {{due_date}}{{/if}}
          </div>
        </div>
        <div class="info-card">
          <div class="info-card-header">Seller GSTIN</div>
          <div class="info-card-content">
            <strong>{{seller_gstin}}</strong>
            State: {{seller_state}} ({{seller_state_code}})
          </div>
        </div>
        <div class="info-card">
          <div class="info-card-header">Place of Supply</div>
          <div class="info-card-content">
            <strong>{{place_of_supply}}</strong>
            {{#if is_igst}}Inter-State{{else}}Intra-State{{/if}}
          </div>
        </div>
      </div>
      
      <!-- Party Details -->
      <div class="party-grid">
        <div class="party-card">
          <div class="party-card-header">üìç Bill To</div>
          <div class="party-card-body">
            <div class="party-name">{{buyer_name}}</div>
            <div class="party-info">{{buyer_address}}</div>
            <div class="party-info">{{buyer_city}}, {{buyer_state}} - {{buyer_pincode}}</div>
            {{#if buyer_phone}}<div class="party-info">üìû {{buyer_phone}}</div>{{/if}}
            {{#if buyer_email}}<div class="party-info">‚úâÔ∏è {{buyer_email}}</div>{{/if}}
            <div class="party-gstin">GSTIN: {{buyer_gstin}}</div>
          </div>
        </div>
        <div class="party-card">
          <div class="party-card-header">üöö Ship To</div>
          <div class="party-card-body">
            {{#if ship_to_name}}
            <div class="party-name">{{ship_to_name}}</div>
            <div class="party-info">{{ship_to_address}}</div>
            <div class="party-info">{{ship_to_city}}, {{ship_to_state}} - {{ship_to_pincode}}</div>
            {{else}}
            <div class="party-name">Same as Bill To</div>
            {{/if}}
          </div>
        </div>
      </div>
      
      <!-- Items Table -->
      <div class="items-table-wrapper">
        <table class="items-table">
          <thead>
            <tr>
              <th style="width: 40px;">Sr.</th>
              <th>Description</th>
              <th style="width: 80px;">HSN/SAC</th>
              <th style="width: 60px;" class="text-center">Qty</th>
              <th style="width: 50px;">Unit</th>
              <th style="width: 80px;" class="text-right">Rate</th>
              {{#if show_gst_column}}
              <th style="width: 60px;" class="text-center">GST %</th>
              {{/if}}
              <th style="width: 100px;" class="text-right">Amount</th>
            </tr>
          </thead>
          <tbody>
            {{#each items}}
            <tr>
              <td class="text-center">{{this.sno}}</td>
              <td>
                <div class="item-primary">{{this.name}}</div>
                {{#if this.description}}<div class="item-secondary">{{this.description}}</div>{{/if}}
                {{#if this.box_size}}<div class="item-secondary">Size: {{this.box_size}}</div>{{/if}}
              </td>
              <td class="text-center">{{this.hsn_code}}</td>
              <td class="text-center">{{this.quantity}}</td>
              <td class="text-center">{{this.unit}}</td>
              <td class="text-right">‚Çπ{{this.rate}}</td>
              {{#if ../show_gst_column}}
              <td class="text-center">{{this.gst_rate}}%</td>
              {{/if}}
              <td class="text-right"><strong>‚Çπ{{this.amount}}</strong></td>
            </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
      
      <!-- Summary Section -->
      <div class="summary-section">
        <div class="amount-words-box">
          <div class="amount-words-label">Total Amount in Words</div>
          <div class="amount-words-text">Indian Rupees {{amount_in_words}} Only</div>
        </div>
        <div class="totals-box">
          <div class="totals-row">
            <span class="totals-label">Subtotal</span>
            <span class="totals-value">‚Çπ{{subtotal}}</span>
          </div>
          {{#if is_igst}}
          <div class="totals-row">
            <span class="totals-label">IGST @ {{igst_rate}}%</span>
            <span class="totals-value">‚Çπ{{igst_amount}}</span>
          </div>
          {{else}}
          <div class="totals-row">
            <span class="totals-label">CGST @ {{cgst_rate}}%</span>
            <span class="totals-value">‚Çπ{{cgst_amount}}</span>
          </div>
          <div class="totals-row">
            <span class="totals-label">SGST @ {{sgst_rate}}%</span>
            <span class="totals-value">‚Çπ{{sgst_amount}}</span>
          </div>
          {{/if}}
          {{#if round_off}}
          <div class="totals-row">
            <span class="totals-label">Round Off</span>
            <span class="totals-value">‚Çπ{{round_off}}</span>
          </div>
          {{/if}}
          <div class="totals-row totals-grand">
            <span class="totals-label">Grand Total</span>
            <span class="totals-value">‚Çπ{{grand_total}}</span>
          </div>
        </div>
      </div>
      
      <!-- Bank Details -->
      <div class="bank-section">
        <div class="bank-header">
          <div class="bank-icon">‚Çπ</div>
          <div class="bank-title">Payment Details</div>
        </div>
        <div class="bank-grid">
          <div class="bank-item">
            <div class="bank-item-label">Bank Name</div>
            <div class="bank-item-value">{{bank_name}}</div>
          </div>
          <div class="bank-item">
            <div class="bank-item-label">Account Number</div>
            <div class="bank-item-value">{{bank_account_no}}</div>
          </div>
          <div class="bank-item">
            <div class="bank-item-label">IFSC Code</div>
            <div class="bank-item-value">{{bank_ifsc}}</div>
          </div>
          <div class="bank-item">
            <div class="bank-item-label">Branch</div>
            <div class="bank-item-value">{{bank_branch}}</div>
          </div>
        </div>
      </div>
      
      <!-- Footer -->
      <div class="footer-section">
        <div class="terms-section">
          <h4>Terms & Conditions</h4>
          <ol class="terms-list">
            {{#each terms}}
            <li>{{this}}</li>
            {{/each}}
          </ol>
        </div>
        <div class="signature-section">
          <div class="signature-line">
            <div class="signature-name">For {{seller_company_name}}</div>
            <div class="signature-designation">Authorized Signatory</div>
          </div>
        </div>
      </div>
      
      <!-- Declaration -->
      <div class="declaration">
        Certified that the particulars given above are true and correct. This is a computer-generated invoice and does not require a signature.
      </div>
    </div>
  </div>
</body>
</html>
